
for (int k = 1; k <= n; k++)
    if (accessible[k])
        for (i)
            for (j)
                ;
for (int t)
    for (k)
        for (i)
            for (j)
                dis[i][j] = min(dis[i][j], dis[i][k] + dis[k][j]);